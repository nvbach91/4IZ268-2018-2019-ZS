(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{167:function(t,s,e){var a=e(170);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(29).default)("59497dc0",a,!0,{})},168:function(t,s,e){var a=e(172);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(29).default)("798c3abc",a,!0,{})},169:function(t,s,e){"use strict";var a=e(167);e.n(a).a},170:function(t,s,e){(t.exports=e(28)(!1)).push([t.i,"\n.VueToNuxtLogo{display:inline-block;-webkit-animation:turn 2s linear 1s forwards;animation:turn 2s linear 1s forwards;-webkit-transform:rotateX(180deg);transform:rotateX(180deg);position:relative;overflow:hidden;height:180px;width:245px\n}\n.Triangle{position:absolute;top:0;left:0;width:0;height:0\n}\n.Triangle--one{border-left:105px solid transparent;border-right:105px solid transparent;border-bottom:180px solid #41b883\n}\n.Triangle--two{top:30px;border-left:87.5px solid transparent;border-right:87.5px solid transparent;border-bottom:150px solid #3b8070\n}\n.Triangle--three,.Triangle--two{left:35px;-webkit-animation:goright .5s linear 3.5s forwards;animation:goright .5s linear 3.5s forwards\n}\n.Triangle--three{top:60px;border-left:70px solid transparent;border-right:70px solid transparent;border-bottom:120px solid #35495e\n}\n.Triangle--four{top:120px;left:70px;-webkit-animation:godown .5s linear 3s forwards;animation:godown .5s linear 3s forwards;border-left:35px solid transparent;border-right:35px solid transparent;border-bottom:60px solid #fff\n}\n@-webkit-keyframes turn{\nto{-webkit-transform:rotateX(0deg);transform:rotateX(0deg)\n}\n}\n@keyframes turn{\nto{-webkit-transform:rotateX(0deg);transform:rotateX(0deg)\n}\n}\n@-webkit-keyframes godown{\nto{top:180px\n}\n}\n@keyframes godown{\nto{top:180px\n}\n}\n@-webkit-keyframes goright{\nto{left:70px\n}\n}\n@keyframes goright{\nto{left:70px\n}\n}",""])},171:function(t,s,e){"use strict";var a=e(168);e.n(a).a},172:function(t,s,e){(t.exports=e(28)(!1)).push([t.i,"",""])},173:function(t,s,e){"use strict";e.r(s);var a=e(14),r=e.n(a),i=(e(61),e(16),e(44),e(62),e(169),e(22)),n=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"VueToNuxtLogo"},[s("div",{staticClass:"Triangle Triangle--two"}),this._v(" "),s("div",{staticClass:"Triangle Triangle--one"}),this._v(" "),s("div",{staticClass:"Triangle Triangle--three"}),this._v(" "),s("div",{staticClass:"Triangle Triangle--four"})])}],!1,null,null,null);n.options.__file="Logo.vue";var o={components:{Logo:n.exports},data:function(){return{searchQuery:"",status:"",artistsResults:{},tracks:{}}},mounted:function(){if(this.$route.hash){this.status="Přihlášení bylo úspěšné, vyhledej nějakého umělce";for(var t,s=this.$route.hash.replace("#","").split("&"),e={},a=0;a<s.length;a++)(t=s[a].split("=")).length<2&&t.push(""),e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);localStorage.setItem("user_token",e.token_type+" "+e.access_token)}else localStorage.getItem("user_token")?this.status="Zadej jméno nějakého umělce do vyhledávání a vyber ho":this.status="Nejprve se přihlaš, prosím"},methods:{getSearch:function(){var t=this;this.tracks={},this.status="",0!==this.searchQuery.length?this.$axios.get("https://api.spotify.com/v1/search?q=\n              ".concat(this.searchQuery,"&type=artist"),{headers:{Authorization:localStorage.getItem("user_token")}}).then(function(s){t.artistsResults=s.data.artists.items}).catch(function(s){console.log(s),t.status="Nastala chyba, zkus se, prosím, znovu přihlásit"}):this.artistsResults={}},getTopTracks:function(t){var s=this;this.artistsResults={},this.$axios.get("https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?country=US"),{headers:{Authorization:localStorage.getItem("user_token")}}).then(function(t){var e;Object.keys(t.data.tracks).forEach(function(s){e?e+=","+t.data.tracks[s].id:e=t.data.tracks[s].id}),s.$axios.get("https://api.spotify.com/v1/audio-features?ids=".concat(e),{headers:{Authorization:localStorage.getItem("user_token")}}).then(function(e){for(var a=0;a<t.data.tracks.length;a++)t.data.tracks[a]=r()({},t.data.tracks[a],e.data.audio_features[a]),console.log(t.data.tracks);s.tracks=t.data.tracks,t.data.tracks.sort(function(t,s){return s.danceability-t.danceability}),s.status="TOP 10 písniček seřazených podle danceability"})}).catch(function(t){console.log(t),s.status="Nastala chyba, zkus se, prosím, znovu přihlásit"})}}},l=(e(171),Object(i.a)(o,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("nav",{staticClass:"nav"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"input input--search",attrs:{type:"text",placeholder:"Najdi umělce"},domProps:{value:t.searchQuery},on:{input:[function(s){s.target.composing||(t.searchQuery=s.target.value)},t.getSearch]}}),t._v(" "),e("a",{staticClass:"button",attrs:{href:"https://accounts.spotify.com/authorize?client_id=f254e3e7f8a74a1b9c5e3a683063f0dd&redirect_uri=http://localhost:3000/&response_type=token"}},[t._v("\n      PŘIHLÁSIT SE")])]),t._v(" "),e("main",{staticClass:"main"},[t.status?e("div",{staticClass:"status"},[e("strong",[t._v(t._s(t.status))])]):t._e(),t._v(" "),t.tracks?e("div",{staticClass:"tracks"},t._l(t.tracks,function(s){return e("div",{key:s.id,staticClass:"track"},[e("div",{staticClass:"track__info"},[t._l(s.album.images[0],function(s,a){return"url"===a?e("img",{key:a,staticClass:"img track__img",attrs:{src:s}}):t._e()}),t._v(" "),e("div",{staticClass:"track__danceability"},[t._v(t._s(Number(100*s.danceability).toFixed(0))+"%")])],2),t._v(" "),e("div",{staticClass:"track__name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"track__preview"},[e("audio",{attrs:{controls:""}},[e("source",{attrs:{src:s.preview_url,type:"audio/mpeg"}}),t._v("\n            Tvůj prohlížeč nepodporuje hudbu :/\n          ")])])])})):t._e(),t._v(" "),e("div",{staticClass:"results"},t._l(t.artistsResults,function(s){return e("a",{key:s.id,staticClass:"result",on:{click:function(e){t.getTopTracks(s.id)}}},[s.images[0]?e("div",{staticClass:"results__imgContainer"},t._l(s.images[0],function(s,a){return"url"===a?e("img",{key:a,staticClass:"img result__img",attrs:{src:s}}):t._e()})):e("div",{staticClass:"results__imgContainer"},[e("img",{staticClass:"img result__img",attrs:{src:"artist.png"}})]),t._v(" "),e("div",[t._v(t._s(s.name))])])}))])])},[],!1,null,null,null));l.options.__file="index.vue";s.default=l.exports}}]);